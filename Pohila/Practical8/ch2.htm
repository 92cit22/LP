<HTML>

<HEAD>
    <TITLE>Функция и обработка события</TITLE>
</HEAD>

<BODY>
    <pre>
        Основным элементом языка JavaScript является функция. Описание функции имеет вид
        function F (V) {S},
        где F - идентификатор функции, задающий имя, по которому можно обращаться к функции; V - список параметров функции,
        разделяемых запятыми; S - тело функции, в нем задаются действия, которые нужно выполнить, чтобы получить результат.
        Необязательный оператор return определяет возвращаемое функцией значение. Обычно все определения и функции задаются в
        разделе
        
        <head> документа. Это обеспечивает интерпретацию и сохранение в памяти всех функций при загрузке документа в браузер.
        
            Пример 1. Нахождение площади треугольника.
        
            В предыдущих примерах пользователю не предоставлялась возможность вводить значения, и в зависимости от них получать
            результат. Интерактивные документы можно создавать, используя формы. Предположим, что мы хотим создать форму, в
            которой поля Основание и Высота служат для ввода соответствующих значений. Кроме того, в форме создадим кнопку
            Вычислить. При щелчке мышью по этой кнопке мы хотим получить значение площади треугольника. Действие пользователя
            (например, щелчок кнопкой мыши) вызывает событие. События в основном связаны с действиями, производимыми
            пользователем с элементами форм HTML. Обычно перехват и обработка события задается в параметрах элементов форм. Имя
            параметра обработки события начинается с приставки on, за которой следует имя самого события. Например, параметр
            обработки события click будет выглядеть как onclick.
        
            Листинг 1. Реакция на событие Click.
        
            <HTML>
        
            <HEAD>
                <title>Обработка значений из формы</title>
                <script language="JavaScript">
        < !--//
                        function care(a, h) {
                            var s = (a * h) / 2;
                            document.write("Площадь прямоугольного треугольника равна ", s); return s
                        }
        //-->
                </script>
            </HEAD>
        
        <BODY>
            <P>Пример сценария со значениями из формы</P>
            <FORM name="form1">
                Основание: <input type="text" size=5 name="st1">
                <hr> Высота: <input type="text" size=5 name="st2">
                <hr>
                <input type="button" value=Вычислить onClick="care(document.form1.st1.value, document.form1.st2.value)"> /*По
                клику мыши на кнопке в функцию care передаются два параметра - содержимое полей ввода*/
            </FORM>
        </BODY>
        
        </HTML>
        
        При интерпретации HTML-страницы браузером создаются объекты JavaScript. Взаимосвязь объектов между собой представляет
        иерархическую структуру. На самом верхнем уровне иерархии находится объект windows, представляющий окно браузера. Объект
        windows является предком или родителем" всех остальных объектов. Каждая страница кроме объекта windows имеет объект
        document. Свойства объекта document определяются содержимым самого документа: цвет фона, цвет шрифта и т. д. Для
        получения значения основания треугольника, введенного в первом поле формы, должна быть выполнена конструкция
        
        document.forml.stl.value
        
        т.е., говоря русским языком (при этом читаем с конца), используем данные value из поля ввода с именем st1 находящегося
        на форме form1 объекта document.
        
        Пример 2. Вычисление площади квадрата.
        
        Напишем сценарий, определяющий площадь квадрата по заданной стороне. Площадь должна вычисляться в тот момент, когда
        изменилось значение его стороны. Пусть форма содержит два текстовых поля: одно для длины стороны квадрата, другое для
        вычисленной площади. Кнопка Обновить очищает поля формы. Площадь квадрата вычисляется при возникновении события change,
        которое происходит в тот момент, когда значение элемента формы с именем num1 изменилось, и элемент потерял фокус.
        HTML-код представлен в примере 2.
        
        Листинг 2. Реакция на событие Change
        
        <HTML>
        
        <HEAD>
            <title>Обработка события Change - изменение значения элемента</title>
            <script>
                function srec(obj) { obj.res.value = obj.num1.value * obj.num1.value }
            </script>
        </HEAD>
        
        <BODY>
            <P>Вычисление площади квадрата</P>
            <FORM name="form1">
                Сторона: <input type="text" size=7 name="num1" onChange="srec(form1)">
                <hr>
                Площадь: <input type="text" size=7 name="res">
                <hr>
                <input type="reset" value=Обновить>
            </FORM>
        </BODY>
        
        </HTML>
        
        Событие Focus возникает в момент, когда пользователь переходит к элементу формы с помощью клавиши <Таb> или щелчка мыши.
            Событие "потеря фокуса" (Blur) происходит в тот момент, когда элемент формы теряет фокус. Событие select вызывается
            выбором части или всего текста в текстовом поле. Например, щелкнув дважды мышью по полю, мы выделим поле, наступит
            событие select, обработка которого приведет к вычислению требуемого значения. В табл.3 представлены события и
            элементы документов HTML, в которых эти события могут происходить. В языке JavaScript определены некоторые
            стандартные объекты и функции, пользоваться которыми можно без предварительного описания. Одним из стандартных
            объектов является объект Math. В свойствах упомянутого объекта хранятся основные математические константы, а его
            методы можно использовать для вызова основных математических функций. В табл.4 приведены некоторые методы объекта
            Math. Выражение y=log x запишется y=Math.log(x).
        
            Задания
        
            1. Проверить примеры из лабораторной работы.
            2. На плоскости заданы координаты трех точек. Напишите сценарий, который вычисляет площадь треугольника
            (использовать событие Focus).
            3. Напишите сценарий, который для точки, заданной координатами на плоскости, определяет расстояние до начала
            координат (использовать событие Select).
            4. Напишите сценарий, который обменивает местами значения двух введенных переменных (использовать событие Blur).
    </pre>
</body>

</HTML>